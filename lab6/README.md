## Вариант `3131200`

Реализовать консольное приложение, которое реализует управление коллекцией объектов в интерактивном режиме. В коллекции необходимо хранить объекты класса City, описание которого приведено ниже.

#### Разработанная программа должна удовлетворять следующим требованиям:
- Операции обработки объектов коллекции должны быть реализованы с помощью Stream API с использованием лямбда-выражений.
- Объекты между клиентом и сервером должны передаваться в сериализованном виде.
- Объекты в коллекции, передаваемой клиенту, должны быть отсортированы по названию
- Клиент должен корректно обрабатывать временную недоступность сервера.
- Обмен данными между клиентом и сервером должен осуществляться по протоколу UDP
- Для обмена данными на сервере необходимо использовать датаграммы
- Для обмена данными на клиенте необходимо использовать сетевой канал
- Сетевые каналы должны использоваться в неблокирующем режиме.

#### Обязанности серверного приложения:
- help : вывести справку по доступным командам
- info : вывести в стандартный поток вывода информацию о коллекции (тип, дата инициализации, количество элементов и т.д.)
- show : вывести в стандартный поток вывода все элементы коллекции в строковом представлении
- add {element} : добавить новый элемент в коллекцию
- update_id {element} : обновить значение элемента коллекции, id которого равен заданному
- remove_by_id id : удалить элемент из коллекции по его id
- clear : очистить коллекцию
- save : сохранить коллекцию в файл
- execute_script file_name : считать и исполнить скрипт из указанного файла. В скрипте содержатся команды в таком же виде, в котором их вводит пользователь в интерактивном режиме.
- exit : завершить программу (без сохранения в файл)
- add_if_min {element} : добавить новый элемент в коллекцию, если его значение меньше, чем у наименьшего элемента этой коллекции
- remove_greater {element} : удалить из коллекции все элементы, превышающие заданный
- history : вывести последние 14 команд (без их аргументов)
- sum_of_meters_above_sea_level : вывести сумму значений поля metersAboveSeaLevel для всех элементов коллекции
- print_descending : вывести элементы коллекции в порядке убывания
- print_field_descending_meters_above_sea_level : вывести значения поля metersAboveSeaLevel всех элементов в порядке убывания

#### Серверное приложение должно состоять из следующих модулей (реализованных в виде одного или нескольких классов):
- Модуль приёма подключений.
- Модуль чтения запроса.
- Модуль обработки полученных команд.
- Модуль отправки ответов клиенту.

> Сервер должен работать в `однопоточном` режиме.

#### Обязанности клиентского приложения:
- Чтение команд из консоли.
- Валидация вводимых данных.
- Сериализация введённой команды и её аргументов.
- Отправка полученной команды и её аргументов на сервер.
- Обработка ответа от сервера (вывод результата исполнения команды в консоль).
- Команду save из клиентского приложения необходимо убрать.
- Команда exit завершает работу клиентского приложения.

#### NB!
> Команды и их аргументы должны представлять из себя объекты классов. Недопустим обмен "простыми" строками. Так, для команды add или её аналога необходимо сформировать объект, содержащий тип команды и объект, который должен храниться в вашей коллекции.

#### Дополнительное задание:
> Реализовать логирование различных этапов работы сервера 
> (начало работы, получение нового подключения, получение нового запроса, отправка ответа и т.п.) 
> с помощью Log4J2

Описание хранимых в коллекции классов из 5 лабораторной:
```java
public class City {
    private long id; //Значение поля должно быть больше 0, 
            //Значение этого поля должно быть уникальным, Значение этого поля должно генерироваться автоматически
    private String name; //Поле не может быть null, Строка не может быть пустой
    private Coordinates coordinates; //Поле не может быть null
    private java.util.Date creationDate; //Поле не может быть null, 
            //Значение этого поля должно генерироваться автоматически
    private Integer area; //Значение поля должно быть больше 0
    private int population; //Значение поля должно быть больше 0, Поле не может быть null
    private Double metersAboveSeaLevel;
    private Climate climate; //Поле может быть null
    private Government government; //Поле не может быть null
    private StandardOfLiving standardOfLiving; //Поле не может быть null
    private Human governor; //Поле может быть null
}
public class Coordinates {
    private Integer x; //Максимальное значение поля: 499
    private double y; //Значение поля должно быть больше -274
}
public class Human {
    private String name; //Поле не может быть null, Строка не может быть пустой
}
public enum Climate {
    TROPICAL_SAVANNA,
    OCEANIC,
    STEPPE;
}
public enum Government {
    ANARCHY,
    GERONTOCRACY,
    DEMARCHY,
    COMMUNISM,
    NOOCRACY;
}
public enum StandardOfLiving {
    ULTRA_HIGH,
    VERY_HIGH,
    HIGH,
    ULTRA_LOW,
    NIGHTMARE;
}
```
Отчёт по работе должен содержать:

    1) Текст задания.
    2) Диаграмма классов разработанной программы (как клиентского, так и серверного приложения).
    3) Исходный код программы.
    4) Выводы по работе.

Вопросы к защите лабораторной работы:

    - Сетевое взаимодействие - клиент-серверная архитектура, основные протоколы, их сходства и отличия.
    - Протокол TCP. Классы Socket и ServerSocket.
    - Протокол UDP. Классы DatagramSocket и DatagramPacket.
    - Отличия блокирующего и неблокирующего ввода-вывода, их преимущества и недостатки. Работа с сетевыми каналами.
    - Классы SocketChannel и DatagramChannel.
    - Передача данных по сети. Сериализация объектов.
    - Интерфейс Serializable. Объектный граф, сериализация и десериализация полей и методов.
    - Java Stream API. Создание конвейеров. Промежуточные и терминальные операции.
    - Шаблоны проектирования: Decorator, Iterator, Factory method, Command, Flyweight, Interpreter, Singleton, Strategy, Adapter, Facade, Proxy.

